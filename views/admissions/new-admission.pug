extends ../layouts/base.pug

block styles
    style.
        /* Unified Info Section Styles */
        .info-section {
            background-color: #f1f1f1;
            margin: 20px;
            padding: 20px;
            border-radius: 8px;
            max-width: 1000px;
        }

        /* Header Section */
        .info-header {
            margin-bottom: 2rem;
            text-align: left;
        }

        .info-header h2 {
            color: #2c3e50;
            margin-bottom: 0.8rem;
            font-size: 2rem;
        }

        .info-header p {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* Content Wrapper for side-by-side sections */
        .info-content-wrapper {
            display: flex;
            gap: 2rem;
            align-items: flex-start;
        }

        /* PDF/Form Box */
        .info-action-box {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
        }

        .info-action-box p.do {
            margin-bottom: 20px;
            font-size: 1rem;
            font-weight: 600;
            color: #495057;
        }

        .info-action-link {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            color: #e74c3c;
            font-weight: 600;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.8rem 1.5rem;
            border: 2px solid #e74c3c;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .info-action-link2 {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            color:rgb(61, 113, 255);
            font-weight: 600;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.8rem 1.5rem;
            border: 2px solid rgb(54, 51, 230);
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .info-action-link i {
            font-size: 1.5rem;
        }
        .info-action-link2:hover {
            background-color:rgb(85, 41, 242);
            color: white;
            text-decoration: none;
        }

        .info-action-link:hover {
            background-color: #e74c3c;
            color: white;
            text-decoration: none;
        }

        /* Instructions Section */
        .info-instructions {
            flex: 2;
            padding: 1.5rem;
            background-color: #f1f1f1;
            border-radius: 6px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
        }

        .info-instructions h3 {
            color: #2c3e50;
            margin-bottom: 1.2rem;
            font-size: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eee;
        }

        .info-instruction-item {
            margin-bottom: 3px;
            text-align: left;
        }

        .info-instruction-item p {
            color: #555;
            line-height: 1.6;
            margin: 0;
        }

        /* Section styles for affidavit */
        .section {
            margin-bottom: 0px;
            padding-bottom: 0px;
        }

        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .section h4 {
            color: #2c3e50;
            font-size: 1.0rem;
            margin-top: 0;
            margin-bottom: 2px;
            font-weight: 500;
        }

        .section ul {
            padding-left: 20px;
            margin: 6px 0;
        }

        .section li {
            margin-bottom: 5px;
            position: relative;
            line-height: 1.4;
        }

        .section li:before {
            content: 'â€¢';
            position: absolute;
            left: -15px;
            color: #3498db;
            font-size: 1.0rem;
        }

        .subsection {
            margin-top: 2px;
            margin-left: 10px;
            padding-left: 10px;
            border-left: 1px solid #eaeaea;
        }

        .subsection h5 {
            color: #2c3e50;
            font-size: 1.0rem;
            margin-top: 0;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .subsection ul {
            padding-left: 15px;
        }

        /* Responsive Layout */
        @media (max-width: 768px) {
            .info-content-wrapper {
                flex-direction: column;
            }
            
            .info-action-box {
                width: 100%;
                margin-bottom: 1.5rem;
            }
            
            .info-header h2 {
                font-size: 1.6rem;
            }
        }

        /* Contact Section */
        .contact-section {
            margin: 10px;
            padding: 10px;
            max-width: 1000px;
            border-radius: 10px;
        }

        .contact-info h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .contact-details {
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .contact-item {
            margin-bottom: 0.5rem;
        }

        /* Admission Form Styles */
        .admission-container2 {
            display: flex;
            gap: 2rem;
            margin: 20px;
        }

        @media (max-width: 768px) {
            .admission-container2 {
                flex-direction: column;
            }
        }

        .admission-instructions-section {
            flex: 1;
        }

        .adminssionwrapper {
            flex: 1;
        }

        .form-1 {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
        }

        .form-1 h3 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-input.half {
            width: calc(50% - 10px);
        }

        .center {
            display: flex;
            gap: 20px;
        }

        button[type="submit"] {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
        }

        button[type="submit"]:hover {
            background-color: #c0392b;
        }

        /* Success/Error Messages */
        .success-note, .error-note {
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .success-note {
            background-color: #e8f5e9;
        }

        .error-note {
            background-color: #ffebee;
        }

        /* Table Styles */
        .program-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .program-table th, .program-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .program-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        .tdprogram-name {
            font-weight: 600;
        }

        .tdprogram-domain {
            color: #666;
            font-size: 0.9rem;
        }

block content
    main
        div.admission-container2
            section.admission-instructions-section
                if admissionData.title
                    h2.subheading(style="text-align: center;")= admissionData.title    
                if admissionData
                    .instructions-header
                        h1.primary_heading2= admissionData.heading || 'Admissions Open'
                    each section, index in admissionData.sections
                        .instruction-card
                            .section-header
                                .section-number= index + 1
                                if section.title
                                    h2.section-title= section.title
                            .section-content
                                p= section.content
                                if index==0
                                    if programdetails && programdetails.length
                                        .table-responsive
                                            table.program-table
                                                thead
                                                    tr
                                                        th S.no
                                                        th Program
                                                        th Eligibility   
                                                tbody
                                                    each item in programdetails
                                                        tr
                                                            td= item.priority
                                                            td 
                                                                .tdprogram-name= item.programme
                                                                .tdprogram-domain= item.domain
                                                            td= item.eligibility
                                                            
                                    else
                                        .alert.alert-info
                                            | No program details available at the moment.
                                
                                if section.links && section.links.length
                                    .cta-container
                                        each link in section.links
                                            if link.text && link.url
                                                a.cta-button(href=link.url)
                                                    = link.text
                                                    i.fas.fa-external-link-alt
                    
                else
                    .instructions-header.text-center
                        h1.primary_heading Admissions Information
                    .instruction-card
                        .section-content
                            p Admission details will be available soon. Please check back later.

            div.adminssionwrapper
                div.adminssionwrapperform
                    if submitted
                        .success-note
                            .svg
                                svg(fill="green" xmlns='http://www.w3.org/2000/svg' height="1.5rem" viewBox='0 0 512 512')
                                    path(d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z')
                            .text Thank you for your admission inquiry! We deeply appreciate your interest in joining our college. Our dedicated team is eagerly reviewing your inquiry and will reach out to you promptly. Your enthusiasm is valued, and we look forward to welcoming you to our vibrant community soon!

                    if error
                        .error-note
                            .svg
                                svg(xmlns='http://www.w3.org/2000/svg' height="1.5rem" viewBox='0 0 512 512')
                                    path(d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z')
                            .text Oops! Something unexpected happened. Try again!

                    if !submitted
                        form.form-1(action="/post-new-admission" method="post") 
                            h3 Admission Inquiry
                            .center 
                                div 
                                    input.form-input.half(type="text" name="name" placeholder="Name" autocomplete="off" required)
                                div 
                                    input.form-input.half(type="email" name="email" placeholder="Email" autocomplete="off" required)
                            
                            select.form-input(name="qualification" required)
                                option(value="" disabled selected) Qualification
                                option(value="intermediate") Intermediate (12th pass)
                                option(value="Graduate") Graduate
                                option(value="Post Graduate") Post Graduate
                            .center 
                                div 
                                    select.form-input.half(name="interestedIn" required)
                                        option(value="" disabled selected) Programs Interested In
                                        option(value="bca") BCA
                                        option(value="bba") BBA
                                        option(value="mca") MCA
                                        option(value="mba") MBA
                                div
                                    select.form-input.half(name="applicationNo" required)
                                        option(value="" disabled selected) Exam Appeared / Interested In
                                        option(value="cuet") CUET
                                        option(value="cmat") CMAT
                                        option(value="cet") CET
                                        option(value="not_appeared") Not Appeared

                            .center 
                                div 
                                    input.form-input.half(type="tel" name="phone" placeholder="Phone" autocomplete="off" required)
                            
                            textarea.form-input(name="remark" rows="6" placeholder="Remark (if any)")
                            button(type="submit") SUBMIT

    if newAdmissionInfo
        .info-section#admission-form-section
            .info-header
                h2= newAdmissionInfo.title
                if newAdmissionInfo.heading
                    p= newAdmissionInfo.heading
            
            .info-content-wrapper
                if newAdmissionInfo.instructions && newAdmissionInfo.instructions.length > 0
                    .info-instructions
                        h3 Instructions:
                        each instruction in newAdmissionInfo.instructions
                            .info-instruction-item
                                p= instruction

                if newAdmissionInfo.form_url
                    .info-action-box
                        p.do Download IITM Admission Form
                        a.info-action-link(href=newAdmissionInfo.form_url target="_blank")
                            i.fas.fa-file-pdf
                            | Admission Form PDF
                
    if affidavitInfo
        .info-section
            .info-header
                h2= affidavitInfo.title
                
            .info-content-wrapper
                if affidavitInfo.sections && affidavitInfo.sections.length > 0
                    .info-instructions
                        h3 Instructions:
                        each section in affidavitInfo.sections
                            .section
                                if section.title
                                    h4= section.title
                                
                                if section.items && section.items.length > 0
                                    ul
                                        each item in section.items
                                            li= item
                                
                                if section.subsections && section.subsections.length > 0
                                    each subsection in section.subsections
                                        .subsection
                                            if subsection.title
                                                h5= subsection.title
                                            if subsection.items && subsection.items.length > 0
                                                ul
                                                    each item in subsection.items
                                                        li= item

                if affidavitInfo.form_link
                    .info-action-box
                        p.do Affidavit Registration Form
                        a.info-action-link2(
                            href=affidavitInfo.form_link 
                            target="_blank"
                        )
                            i.fas.fa-external-link-alt
                            | Open Affidavit Form

    .contact-section
        .contact-info
            h2.primary_heading2 Contact Information
            .contact-details
                p.contact-item
                    strong Phone No: 
                    | +91-9070337770
                p.contact-item
                    strong Email: 
                    a(href="mailto:contact@iitm.edu.in") contact@iitm.edu.in