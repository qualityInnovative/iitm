extends ../layouts/base.pug

block content
    main
        div.admission-container2(style="display: flex; gap: 2rem;")
            section.admission-instructions-section(style="flex: 1;")
                if admissionData.title
                    h2.subheading(style="text-align: center;")= admissionData.title    
                if admissionData
                    .instructions-header
                        h1.primary_heading2= admissionData.heading || 'Admissions Open'
                    each section, index in admissionData.sections
                        .instruction-card
                            .section-header
                                .section-number= index + 1
                                if section.title
                                    h2.section-title= section.title
                            .section-content
                                p= section.content
                                if index==0
                                    if programdetails && programdetails.length
                                        .table-responsive
                                            table.program-table
                                                thead
                                                    tr
                                                        th S.no
                                                        th Program
                                                        th Eligibility   
                                                tbody
                                                    each item in programdetails
                                                        tr
                                                            td= item.priority
                                                            td 
                                                                .tdprogram-name= item.programme
                                                                .tdprogram-domain= item.domain
                                                            td= item.eligibility
                                                            
                                    else
                                        .alert.alert-info
                                            | No program details available at the moment.
                                
                                //- Updated for multiple links
                                - 
                                  // Normalize links to array
                                  let links = [];
                                  if (section.links && Array.isArray(section.links)) {
                                    links = section.links;
                                  } else if (section.link) {
                                    links = [section.link];
                                  }
                                
                                if links.length
                                  .cta-container
                                    each link in links
                                      if link.text && link.url
                                        a.cta-button(href=link.url target="_blank")
                                          = link.text
                                          i.fas.fa-external-link-alt
                    
                else
                    .instructions-header.text-center
                        h1.primary_heading Admissions Information
                    .instruction-card
                        .section-content
                            p Admission details will be available soon. Please check back later.


            div.div.adminssionwrapper(style="flex: 1;")
                div.adminssionwrapperform
                    if submitted
                        .success-note.margin-top-xs.margin-bottom-lg
                            .svg
                                svg(fill="green" xmlns='http://www.w3.org/2000/svg' height="1.5rem" viewBox='0 0 512 512')
                                    path(d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z')
                            .text Thank you for your admission inquiry! We deeply appreciate your interest in joining our college. Our dedicated team is eagerly reviewing your inquiry and will reach out to you promptly. Your enthusiasm is valued, and we look forward to welcoming you to our vibrant community soon!

                    if error
                        .error-note.margin-top-xs.margin-bottom-xs
                            .svg
                                svg(xmlns='http://www.w3.org/2000/svg' height="1.5rem" viewBox='0 0 512 512')
                                    path(d='M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z')
                            .text Oops! Something unexpected happend. Try again!

                    if !submitted
                    form.form-1.margin-top-xs(action="/post-new-admission" method="post") 
                        h3 Admission Inquiry
                        .center 
                            div 
                                input.form-input.half(type="text" name="name" placeholder="Name" autocomplete="off" required)
                            div 
                                input.form-input.half(type="email" name="email" placeholder="Email" autocomplete="off" required)
                        
                        select.form-input(name="qualification" required="")
                            option(value="" disabled selected) Qualification
                            option(value="intermediate") Intermediate (12th pass)
                            option(value="Graduate") Graduate
                            option(value="Post Graduate") Post Graduate
                        .center 
                            div 
                                select.form-input.half(name="interestedIn" required="")
                                    option(value="" disabled selected) Programs Interested In
                                    option(value="bca") BCA
                                    option(value="bba") BBA
                                    option(value="mca") MCA
                                    option(value="mba") MBA
                            div
                                select.form-input.half(name="applicationNo" required)
                                    option(value="" disabled selected) Exam Appeared / Interested In
                                    option(value="cuet") CUET
                                    option(value="cmat") CMAT
                                    option(value="cet") CET
                                    option(value="not_appeared") Not Appeared

                        .center 
                            div 
                                input.form-input.half(type="tel" name="phone" placeholder="Phone" autocomplete="off" required)
                        

                        textarea.form-input(name="remark" rows="6" placeholder="Remark (if any)")
                        button(type="submit") SUBMIT


        //- if programdetails && programdetails.length
        //-     .container-lg
        //-         .program-details-section.margin-top-lg
        //-             h2.primary_heading2 Program Details
        //-             .table-responsive
        //-                 table.program-table
        //-                     thead
        //-                         tr
        //-                             th S.no
        //-                             th Program
        //-                             th Eligibility
        //-                             th Test Domain
                                   
        //-                     tbody
        //-                         each item in programdetails
        //-                             tr
        //-                                 td= item.priority
        //-                                 td 
        //-                                     .tdprogram-name= item.programme
        //-                                     .tdprogram-domain= item.domain
        //-                                 td= item.eligibility
        //-                                 td= item.test
                                        
        //- else
        //-     .container-lg
        //-         .program-details-section.margin-top-lg
        //-             h2.primary_heading2 Program Details
        //-             .alert.alert-info
        //-                 | No program details available at the moment.
        //- .container-lg
        //-     h1.primary_heading.margin-top-sm.margin-bottom-sm Choose Your Path to an Extraordinary Future
        //-     .cards.margin-bottom-md
        //-         .card.card-1
        //-             .card__icon
        //-                 ion-icon(name="school")
        //-             h2.card__title Achieve Your Dreams with our Merit Scholarships!
        //-             p.card__apply
        //-                 a.card__link(href='/admissions/scholarships' target="_blank")
        //-                     | Explore
        //-                     ion-icon(name="arrow-forward-outline")
        //-         .card.card-1
        //-             .card__icon
        //-                 ion-icon(name="business")
        //-             h2.card__title Acquire Practical Skills and Prepare for Career Success through Real-World Technical Trainings!
        //-             p.card__apply
        //-                 a.card__link(href='/academics/workshops-and-bootcamps' target="_blank")
        //-                     | Explore
        //-                     ion-icon(name="arrow-forward-outline")
        //-         .card.card-1
        //-             .card__icon
        //-                 ion-icon(name="happy")
        //-             h2.card__title Experience exceptional guidance from accomplished teachers, propelling your academic success.
        //-             p.card__apply
        //-                 a.card__link(href='/academics/faculty' target="_blank")
        //-                     | Explore
        //-                     ion-icon(name="arrow-forward-outline")
        //-         .card.card-1
        //-             .card__icon
        //-                 ion-icon(name="card")
        //-             h2.card__title Experience Quality Education at Affordable Tuition and Fees, Empowering Your Journey!
        //-             p.card__apply
        //-                 a.card__link(href='/admissions/tution-and-fees' target="_blank")
        //-                     | Explore
        //-                     ion-icon(name="arrow-forward-outline")

        .contact-section.container-lg
            .contact-info
                h2.primary_heading2 Contact Information
                .contact-details
                    p.contact-item
                        strong Phone No: 
                        | +91-9070337770
                    p.contact-item
                        strong Email: 
                        a(href="mailto:contact@iitm.edu.in") contact@iitm.edu.in